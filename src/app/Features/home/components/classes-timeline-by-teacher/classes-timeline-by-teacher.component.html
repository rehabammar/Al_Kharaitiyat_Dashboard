<app-custom-accordion title="Class.DailyClass">

<div class="date-picker-container">
  <mat-form-field appearance="outline" class="date-field">
    <mat-label>{{ 'dailyClass.selectDate' | translate }}</mat-label>

    <input matInput
           class="date-input"
           [matDatepicker]="picker"
           [(ngModel)]="selectedDate"
           (dateChange)="loadData()">

    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>
</div>


  <div class="timeline-container">
  <div class="schedule">
    <!-- header -->
    <div class="header sticky">
      <div class="left-cell"></div>
      <div class="right-scroll">
        <div class="time-row" [style.gridTemplateColumns]="'repeat(' + cols + ', 1fr)'">
          <div class="hour" *ngFor="let h of hourLabels" [style.gridColumn]="h.col">
            {{ h.label }}
          </div>
        </div>
      </div>
    </div>

    <!-- rows -->
    <div class="body">
      <div class="row" *ngFor="let r of rows">
        <div class="left-cell teacher">
          <span class="teacher-name">{{ r.teacherLabel }}</span>
        </div>

        <div class="right-scroll">
          <div class="grid" [style.gridTemplateColumns]="'repeat(' + cols + ', 1fr)'">
            <div class="class-block"
                 (click)="openClass(b.classPk!)"
                 *ngFor="let b of r.blocks"
                 [style.gridColumn]="b.col">
              <div class="id">{{ b.classPk }}</div>
              <div class="title">{{ b.title }}</div>
              <div class="time">{{ b.time }}</div>
              <span [class]="b.statusClass">{{ b.status }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="loading" class="loading">â€¦</div>
  </div>
  </div>
</app-custom-accordion>
